<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript | 前端姿势</title>
    <meta name="description" content="坐上来自己动">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.8a74824a.css" as="style"><link rel="preload" href="/assets/js/app.e00db08d.js" as="script"><link rel="preload" href="/assets/js/2.bb0b31a9.js" as="script"><link rel="preload" href="/assets/js/15.a0226081.js" as="script"><link rel="prefetch" href="/assets/js/10.4a79f70d.js"><link rel="prefetch" href="/assets/js/11.9c2bb722.js"><link rel="prefetch" href="/assets/js/12.9e4f3fef.js"><link rel="prefetch" href="/assets/js/13.8ff96153.js"><link rel="prefetch" href="/assets/js/14.10517d31.js"><link rel="prefetch" href="/assets/js/16.f5084347.js"><link rel="prefetch" href="/assets/js/17.3d87bc58.js"><link rel="prefetch" href="/assets/js/18.c27f1a54.js"><link rel="prefetch" href="/assets/js/19.c4bc41ee.js"><link rel="prefetch" href="/assets/js/20.ae7ac5af.js"><link rel="prefetch" href="/assets/js/21.0df246da.js"><link rel="prefetch" href="/assets/js/22.dd78d75f.js"><link rel="prefetch" href="/assets/js/23.d6165558.js"><link rel="prefetch" href="/assets/js/24.4dfcaaf2.js"><link rel="prefetch" href="/assets/js/25.97dfe19f.js"><link rel="prefetch" href="/assets/js/3.06a96650.js"><link rel="prefetch" href="/assets/js/4.cd6abf10.js"><link rel="prefetch" href="/assets/js/5.3707b531.js"><link rel="prefetch" href="/assets/js/6.e5e73d71.js"><link rel="prefetch" href="/assets/js/7.e872ecb0.js"><link rel="prefetch" href="/assets/js/8.598c5052.js"><link rel="prefetch" href="/assets/js/9.63659388.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8a74824a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端姿势</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/JS/" class="nav-link router-link-active">
  前端大杂烩
</a></div><div class="nav-item"><a href="https://github.com/jojo51778" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/JS/" class="nav-link router-link-active">
  前端大杂烩
</a></div><div class="nav-item"><a href="https://github.com/jojo51778" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JS/vue/vue-obeserve.html" class="sidebar-link">Vue响应式数据原理</a></li><li><a href="/JS/vue/vue-dep.html" class="sidebar-link">依赖收集</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>React相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JS/react/hooks.html" class="sidebar-link">useState原理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>webPack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JS/webpack/optimization.html" class="sidebar-link">Webpack优化</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>面试葵花宝典</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JS/interview/html.html" class="sidebar-link">HTML</a></li><li><a href="/JS/interview/css.html" class="sidebar-link">CSS</a></li><li><a href="/JS/interview/javascript.html" class="active sidebar-link">JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JS/interview/javascript.html#js有哪些类型？" class="sidebar-link">js有哪些类型？</a></li><li class="sidebar-sub-header"><a href="/JS/interview/javascript.html#变量提升？" class="sidebar-link">变量提升？</a></li><li class="sidebar-sub-header"><a href="/JS/interview/javascript.html#javascript的基本类型和复杂类型是储存在哪里的？" class="sidebar-link">JavaScript的基本类型和复杂类型是储存在哪里的？</a></li><li class="sidebar-sub-header"><a href="/JS/interview/javascript.html#javascript的参数是按照什么方式传递的？" class="sidebar-link">JavaScript的参数是按照什么方式传递的？</a></li><li class="sidebar-sub-header"><a href="/JS/interview/javascript.html#闭包？" class="sidebar-link">闭包？</a></li><li class="sidebar-sub-header"><a href="/JS/interview/javascript.html#作用域" class="sidebar-link">作用域</a></li><li class="sidebar-sub-header"><a href="/JS/interview/javascript.html#es6模块与commonjs模块有什么区别？" class="sidebar-link">ES6模块与CommonJS模块有什么区别？</a></li><li class="sidebar-sub-header"><a href="/JS/interview/javascript.html#类型转换的规则有哪些？" class="sidebar-link">类型转换的规则有哪些？</a></li><li class="sidebar-sub-header"><a href="/JS/interview/javascript.html#原型链" class="sidebar-link">原型链</a></li><li class="sidebar-sub-header"><a href="/JS/interview/javascript.html#this理解" class="sidebar-link">this理解</a></li><li class="sidebar-sub-header"><a href="/JS/interview/javascript.html#async-await是什么？" class="sidebar-link">async/await是什么？</a></li><li class="sidebar-sub-header"><a href="/JS/interview/javascript.html#async-await相比于promise的优势？" class="sidebar-link">async/await相比于Promise的优势？</a></li><li class="sidebar-sub-header"><a href="/JS/interview/javascript.html#javascript中实现不可变对象？" class="sidebar-link">JavaScript中实现不可变对象？</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>手写一个？？？</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JS/handwriting/jswritten.html" class="sidebar-link">动不动手写系列</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>重在积累</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JS/knowledge/30s.html" class="sidebar-link">日常30s小知识</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>网络</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JS/http/tcpip.html" class="sidebar-link">TCP/IP</a></li><li><a href="/JS/http/httpstatus.html" class="sidebar-link">HTTP状态码</a></li><li><a href="/JS/http/http.html" class="sidebar-link">http报文首部</a></li><li><a href="/JS/http/httpsecure.html" class="sidebar-link">HTTP缺点</a></li><li><a href="/JS/http/userAuth.html" class="sidebar-link">确认访问用户身份的认证</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript"><a href="#javascript" class="header-anchor">#</a> JavaScript</h1> <h2 id="js有哪些类型？"><a href="#js有哪些类型？" class="header-anchor">#</a> js有哪些类型？</h2> <p>基本类型:</p> <ul><li>boolean</li> <li>null</li> <li>undefined</li> <li>number</li> <li>string</li> <li>symbol</li></ul> <p>引用类型:</p> <ul><li>Object</li></ul> <h2 id="变量提升？"><a href="#变量提升？" class="header-anchor">#</a> 变量提升？</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// undefined</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>JavaScript引擎的工作方式是，先<code>解析代码</code>，<code>获取</code>所有被<code>声明的变量</code>，然后再一行一行地运行。这造成的结果，就是所有的变量的声明语句，都会被提升到<code>代码的头部</code>，这就叫做<code>变量提升</code>（hoisting）。
实际情况</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> 
a <span class="token operator">=</span> <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="javascript的基本类型和复杂类型是储存在哪里的？"><a href="#javascript的基本类型和复杂类型是储存在哪里的？" class="header-anchor">#</a> JavaScript的基本类型和复杂类型是储存在哪里的？</h2> <p>基本类型储存在栈中，但是一旦被闭包引用则成为常住内存，会储存在内存堆中。</p> <p>复杂类型会储存在内存堆中。</p> <h2 id="javascript的参数是按照什么方式传递的？"><a href="#javascript的参数是按照什么方式传递的？" class="header-anchor">#</a> JavaScript的参数是按照什么方式传递的？</h2> <h4 id="按值传递"><a href="#按值传递" class="header-anchor">#</a> 按值传递</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>虽然在函数test中a被修改,并没有有影响到 外部a的值,基本类型是按值传递的.</p> <h4 id="复杂类型按引用传递"><a href="#复杂类型按引用传递" class="header-anchor">#</a> 复杂类型按引用传递?</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  b<span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: 10, b: 2 }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: 10, b: 2 }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>看起来是引用传递无疑了？？？</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  b<span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: 1, b: 2 }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>哦豁，显然不是，并没有更改原始对象,</p> <p>复杂类型之所以会产生这种特性,原因就是在传递过程中,对象<code>a</code>先产生了一个<code>副本a</code>,这个<code>副本a</code>并不是深克隆得到的<code>副本a</code>,<code>副本a</code>地址同样指向对象<code>a</code>指向的堆内存.</p> <p>因此在函数体中修改<code>x=10</code>只是修改了<code>副本a</code>,<code>a</code>对象没有变化. 但是如果修改了<code>x.a=10</code>是修改了两者指向的同一堆内存,此时对象<code>a</code>也会受到影响.</p> <p>要我说都是按值传递，只不过传对象有的时候一不小心碰到了共同的蛋糕(<code>同一堆内存</code>)，不开心了</p> <h2 id="闭包？"><a href="#闭包？" class="header-anchor">#</a> 闭包？</h2> <p>简单讲，闭包就是指有权访问另一个函数作用域中的变量的函数。</p> <p>产生一个闭包
创建闭包最常见方式，就是在一个函数内部创建另一个函数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  
  <span class="token keyword">function</span> <span class="token function">closure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> closure<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>闭包的作用域链包含着它自己的作用域，以及包含它的函数的作用域和全局作用域。</p> <p>产生的问题</p> <ul><li>通常，函数的作用域及其所有变量都会在函数执行结束后被销毁。但是，在创建了一个闭包以后，这个函数的作用域就会一直保存到闭包不存在为止。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">makeAdder</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> add5 <span class="token operator">=</span> <span class="token function">makeAdder</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> add10 <span class="token operator">=</span> <span class="token function">makeAdder</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add5</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 7</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add10</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12</span>

<span class="token comment">// 释放对闭包的引用</span>
add5 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
add10 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>闭包中的this</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;The Window&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;My Object&quot;</span><span class="token punctuation">,</span>
  
  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// The Window</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>obj.getName()()实际上是在全局作用域中调用了匿名函数，this指向了window。</p> <p>闭包应用</p> <ul><li>应用闭包的主要场合是：设计私有的方法和变量。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  
  <span class="token comment">// 私有变量</span>
  <span class="token keyword">var</span> series <span class="token operator">=</span> <span class="token string">&quot;哺乳动物&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Run!!!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 特权方法</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getSeries</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> series<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>单例</li></ul> <p>普通模式</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> singleton <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;percy&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">speak</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;speaking!!!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>模块模式(闭包创建)</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> singleton <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  
  <span class="token comment">// 私有变量</span>
  <span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token function-variable function">speak</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;speaking!!!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  <span class="token comment">// 特权（或公有）属性和方法</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;percy&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getAge</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ul><li><code>匿名函数最大的用途是创建闭包</code>,并且还可以构建命名空间，以减少全局变量的使用。从而使用闭包模块化代码，减少全局变量的污染。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> objEvent <span class="token operator">=</span> objEvent <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
    <span class="token keyword">var</span> <span class="token function-variable function">addEvent</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
      <span class="token comment">// some code</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">removeEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// some code</span>
    <span class="token punctuation">}</span>

    objEvent<span class="token punctuation">.</span>addEvent <span class="token operator">=</span> addEvent<span class="token punctuation">;</span>
    objEvent<span class="token punctuation">.</span>removeEvent <span class="token operator">=</span> removeEvent<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="作用域"><a href="#作用域" class="header-anchor">#</a> 作用域</h2> <p>JavaScript属于静态作用域，即声明的作用域是根据程序正文在编译时就确定的，有时也称为词法作用域。
简而言之就是调用的时候一层一层往上找的过程，一直到window</p> <h2 id="es6模块与commonjs模块有什么区别？"><a href="#es6模块与commonjs模块有什么区别？" class="header-anchor">#</a> ES6模块与CommonJS模块有什么区别？</h2> <p>ES6 Module和CommonJS模块的区别：</p> <ul><li>CommonJS是对模块的浅拷贝，ES6 Module是对模块的引用,即ES6 Module只存只读，不能改变其值，具体点就是指针指向不能变，类似const</li> <li>import的接口是read-only（只读状态），不能修改其变量值。 即不能修改其变量的指针指向，但可以改变变量内部指针指向,可以对commonJS对重新赋值（改变指针指向），但是对ES6 Module赋值会编译报错。</li></ul> <p>ES6 Module和CommonJS模块的共同点：</p> <p>CommonJS和ES6 Module都可以对引入的对象进行赋值，即对对象内部属性的值进行改变。</p> <h2 id="类型转换的规则有哪些？"><a href="#类型转换的规则有哪些？" class="header-anchor">#</a> 类型转换的规则有哪些？</h2> <p>在if语句、逻辑语句、数学运算逻辑、==等情况下都可能出现隐士类型转换。</p> <p><img src="https://xiaomuzhu-image.oss-cn-beijing.aliyuncs.com/c378afab84afcdf430aec5229649faee.png" alt="类型转换"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ECMA-262, section 9.1, page 30. Use null/undefined for no hint,</span>
<span class="token comment">// (1) for number hint, and (2) for string hint.</span>
<span class="token keyword">function</span> <span class="token function">ToPrimitive</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> hint</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  <span class="token comment">// Fast case check.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">IS_STRING</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> x<span class="token punctuation">;</span>
  <span class="token comment">// Normal behavior.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">IS_SPEC_OBJECT</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> x<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">IS_SYMBOL_WRAPPER</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token function">MakeTypeError</span><span class="token punctuation">(</span>kSymbolToPrimitive<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>hint <span class="token operator">==</span> <span class="token constant">NO_HINT</span><span class="token punctuation">)</span> hint <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token constant">IS_DATE</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token constant">STRING_HINT</span> <span class="token operator">:</span> <span class="token constant">NUMBER_HINT</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>hint <span class="token operator">==</span> <span class="token constant">NUMBER_HINT</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">DefaultNumber</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">DefaultString</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ECMA-262, section 8.6.2.6, page 28.</span>
<span class="token keyword">function</span> <span class="token function">DefaultNumber</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">IS_SYMBOL_WRAPPER</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> valueOf <span class="token operator">=</span> x<span class="token punctuation">.</span>valueOf<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">IS_SPEC_FUNCTION</span><span class="token punctuation">(</span>valueOf<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> v <span class="token operator">=</span> <span class="token operator">%</span><span class="token function">_CallFunction</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> valueOf<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsPrimitive</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> v<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> toString <span class="token operator">=</span> x<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">IS_SPEC_FUNCTION</span><span class="token punctuation">(</span>toString<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token operator">%</span><span class="token function">_CallFunction</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> toString<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsPrimitive</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">throw</span> <span class="token function">MakeTypeError</span><span class="token punctuation">(</span>kCannotConvertToPrimitive<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ECMA-262, section 8.6.2.6, page 28.</span>
<span class="token keyword">function</span> <span class="token function">DefaultString</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">IS_SYMBOL_WRAPPER</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> toString <span class="token operator">=</span> x<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">IS_SPEC_FUNCTION</span><span class="token punctuation">(</span>toString<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token operator">%</span><span class="token function">_CallFunction</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> toString<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsPrimitive</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> valueOf <span class="token operator">=</span> x<span class="token punctuation">.</span>valueOf<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">IS_SPEC_FUNCTION</span><span class="token punctuation">(</span>valueOf<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> v <span class="token operator">=</span> <span class="token operator">%</span><span class="token function">_CallFunction</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> valueOf<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsPrimitive</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> v<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">throw</span> <span class="token function">MakeTypeError</span><span class="token punctuation">(</span>kCannotConvertToPrimitive<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><p>转换规则</p> <ol><li>如果变量为字符串，直接返回.</li> <li>如果!IS_SPEC_OBJECT(x)，直接返回.</li> <li>如果IS_SYMBOL_WRAPPER(x)，则抛出异常.</li> <li>否则会根据传入的hint来调用DefaultNumber和DefaultString，比如如果为Date对象，会调用DefaultString.</li> <li>DefaultNumber：首先x.valueOf，如果为primitive，则返回valueOf后的值，否则继续调用x.toString，如果为primitive，则返回toString后的值，否则抛出异常</li> <li>DefaultString：和DefaultNumber正好相反，先调用toString，如果不是primitive再调用valueOf.</li></ol> <h2 id="原型链"><a href="#原型链" class="header-anchor">#</a> 原型链</h2> <h4 id="原型对象"><a href="#原型对象" class="header-anchor">#</a> 原型对象</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;jojo&quot;</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    profession<span class="token operator">:</span> <span class="token string">&quot;我不想做人了&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;hasOwnProperty&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;hasOwnProperty&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>hasOwnProperty()方法可以访问自生属性，但是为什么可以访问hasOwnProperty(不在person中)这个属性呢，靠的就是原型链</p> <p><img src="https://xiaomuzhu-image.oss-cn-beijing.aliyuncs.com/282ef60fe1dfe60924c6caeaeab6c550.png" alt="原型链"></p> <p>纳尼，看的头疼，要我说就是本身找不到就找别人(<code>prototype</code>)，靠媒介(<code>__proto__</code>),先后经历Object.prototype,Function.Type，知道找不到方向null</p> <h2 id="this理解"><a href="#this理解" class="header-anchor">#</a> this理解</h2> <ol><li>是否由箭头函数调用 -&gt;指向箭头函数外层非箭头函数的this指向 ;</li> <li>是否由new调用 -&gt;指向新创建的对象 ;</li> <li>是否由call || apply || bind 调用 -&gt; 指向指定的对象 ;</li> <li>是否由对象调用 -&gt; 指向这个对象 ;</li> <li>上面几种情况都不是：严格模式下指向undefined，非严格模式下指向全局对象</li></ol> <h2 id="async-await是什么？"><a href="#async-await是什么？" class="header-anchor">#</a> async/await是什么？</h2> <p>async 函数，就是 Generator 函数的语法糖，它建立在Promises上，并且与所有现有的基于Promise的API兼容。</p> <ol><li>Async—声明一个异步函数(async function fn(){...})</li></ol> <ul><li>自动将常规函数转换成Promise，返回值也是一个Promise对象</li> <li>只有async函数内部的异步操作执行完，才会执行then方法指定的回调函数</li> <li>异步函数内部可以使用await</li></ul> <ol start="2"><li>Await—暂停异步的功能执行(var result = await apiFn()😉</li></ol> <ul><li>放置在Promise调用之前，await强制其他代码等待，直到Promise完成并返回结果</li> <li>只能与Promise一起使用，不适用与回调</li> <li>只能在async函数内部使用</li></ul> <h2 id="async-await相比于promise的优势？"><a href="#async-await相比于promise的优势？" class="header-anchor">#</a> async/await相比于Promise的优势？</h2> <ul><li>代码读起来更加同步，Promise虽然摆脱了回调地狱，但是then的链式调用也会带来额外的阅读负担</li> <li>Promise传递中间值非常麻烦，而async/await几乎是同步的写法，非常优雅</li> <li>错误处理友好，async/await可以用成熟的try/catch，Promise的错误捕获非常冗余</li> <li>调试友好，Promise的调试很差，由于没有代码块，你不能在一个返回表达式的箭头函数中设置断点，如果你在一个.then代码块中使用调试器的步进(step-over)功能，调试器并不会进入后续的.then代码块，因为调试器只能跟踪同步代码的『每一步』。</li></ul> <h2 id="javascript中实现不可变对象？"><a href="#javascript中实现不可变对象？" class="header-anchor">#</a> JavaScript中实现不可变对象？</h2> <p>实现不可变数据有三种主流的方法</p> <ol><li>深克隆，但是深克隆的性能非常差，不适合大规模使用</li> <li>Immutable.js，Immutable.js是自成一体的一套数据结构，性能良好，但是需要学习额外的API</li> <li>immer，利用Proxy特性，无需学习额外的api，性能良好</li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/17/2019, 7:04:07 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/JS/interview/css.html" class="prev">
        CSS
      </a></span> <span class="next"><a href="/JS/handwriting/jswritten.html">
        动不动手写系列
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e00db08d.js" defer></script><script src="/assets/js/2.bb0b31a9.js" defer></script><script src="/assets/js/15.a0226081.js" defer></script>
  </body>
</html>
