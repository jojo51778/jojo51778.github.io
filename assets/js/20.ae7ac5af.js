(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{262:function(s,a,t){"use strict";t.r(a);var n=t(28),r=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"rollup之路"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rollup之路"}},[s._v("#")]),s._v(" rollup之路")]),s._v(" "),t("h3",{attrs:{id:"api精简笔记"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#api精简笔记"}},[s._v("#")]),s._v(" api精简笔记")]),s._v(" "),t("p",[s._v("编译"),t("code",[s._v("src")]),s._v("下"),t("code",[s._v("main.js")]),s._v("\n可以用命令")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("rollup src"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("o bundle"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f cjs\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("也可以新建一个rollup文件在"),t("code",[s._v("根目录")]),s._v("下,运行"),t("code",[s._v("rollup -c")]),s._v("即可")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  input"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'src/main.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  output"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    file"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'bundle.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    format"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cjs'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"rollup-与其他工具集成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rollup-与其他工具集成"}},[s._v("#")]),s._v(" Rollup 与其他工具集成")]),s._v(" "),t("h5",{attrs:{id:"npm-packages"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm-packages"}},[s._v("#")]),s._v(" npm packages")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("在某些时候，你的项目很可能依赖于从npm安装到你的node_modules文件夹中的软件包。 与Webpack和Browserify这样的其他捆绑包不同，Rollup不知道如何打破常规去处理这些依赖。我们需要依赖插件"),t("code",[s._v("rollup-plugin-node-resolve")]),s._v("，这个插件几乎是"),t("code",[s._v("开发必备")])])]),s._v(" "),t("li",[t("p",[s._v("现在npm大多数CommonJs模块，而rollup主推ES模块，则需要rollup-plugin-commonjs对这些CommonJs模块进行处理。rollup-plugin-commonjs应该用在其他插件转换你的模块之前 - 这是为了防止其他插件的改变破坏CommonJS的检测。")])])]),s._v(" "),t("h3",{attrs:{id:"不打包外部模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#不打包外部模块"}},[s._v("#")]),s._v(" 不打包外部模块")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("external"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'lodash'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);